function RelcyService(a,b,c,d){var e="https://staging-w.relcy.com/app";return d(e,{client_id:"@client_id",platform:"@platform",phone_number:"@phone_number",ambassador_id:"@ambassador_id"},{savePhoneNumber:{method:"GET",url:e+"?platform=:platform&phone_number=:phone_number&client_id=:client_id",responseType:"json"}})}!function(a){"use strict";function b(a,b){return a.module("angularSpinner",[]).provider("usSpinnerConfig",function(){var a={};return{setDefaults:function(b){a=b||a},$get:function(){return{config:a}}}}).factory("usSpinnerService",["$rootScope",function(a){var b={};return b.spin=function(b){a.$broadcast("us-spinner:spin",b)},b.stop=function(b){a.$broadcast("us-spinner:stop",b)},b}]).directive("usSpinner",["$window","usSpinnerConfig",function(c,d){return{scope:!0,link:function(e,f,g){function h(){e.spinner&&e.spinner.stop()}var i=b||c.Spinner;e.spinner=null,e.key=a.isDefined(g.spinnerKey)?g.spinnerKey:!1,e.startActive=a.isDefined(g.spinnerStartActive)?e.$eval(g.spinnerStartActive):e.key?!1:!0,e.spin=function(){e.spinner&&e.spinner.spin(f[0])},e.stop=function(){e.startActive=!1,h()},e.$watch(g.usSpinner,function(a){h(),a=a||{};for(var b in d.config)void 0===a[b]&&(a[b]=d.config[b]);e.spinner=new i(a),(!e.key||e.startActive)&&e.spinner.spin(f[0])},!0),e.$on("us-spinner:spin",function(a,b){b===e.key&&e.spin()}),e.$on("us-spinner:stop",function(a,b){b===e.key&&e.stop()}),e.$on("$destroy",function(){e.stop(),e.spinner=null})}}}])}"function"==typeof define&&define.amd?define(["angular","spin"],b):b(a.angular)}(window),angular.module("siteApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","angularSpinner"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/thankyou",{templateUrl:"views/thankyou.html",controller:"ThanksController"}).otherwise({redirectTo:"/"})}]),angular.module("siteApp").controller("MainCtrl",["$scope","RelcyService","usSpinnerService","$timeout","$location",function(a,b,c,d,e){a.phoneNumber="",a.platform="ios",a.message="",a.homePage=!0,a.thanksPage=!1,a.save=function(){c.spin("invite"),a.platform=$("#ios").parent().hasClass("active")?"ios":"android",b.savePhoneNumber({client_id:"131a22184a",platform:a.platform,phone_number:a.phoneNumber},function(){c.stop("invite"),mixpanel.track("Landing-Invite",{Platform:a.platform,"Phone-No":a.phoneNumber}),e.path("thankyou"),d(function(){a.phoneNumber="",a.message=""},3e3)},function(b){mixpanel.track("Landing-Invite-Failed",{Platform:a.platform,"Phone-No":a.phoneNumber}),a.phoneNumber="",401==b.status&&(a.message="Not Authorized"),500==b.status&&(a.message="Error! Please contact beta@relcy.com"),400==b.status&&(a.message='theoretically it should not occur, but show a pop-up saying "Required Fields are Missing"'),403==b.status&&(a.message="Already sent the SMS twice for this number. Please contact beta@relcy.com"),d(function(){a.message=""},5e3),c.stop("invite")})}}]),angular.module("siteApp").controller("ThanksController",["$scope","RelcyService","usSpinnerService","$timeout",function(a,b,c,d){a.message=""}]),angular.module("siteApp").service("RelcyService",["$timeout","$q","$http","$resource",RelcyService]);